# Changelog - 260209

## 260209-22:01:49 - Harden exec completion and session scoping regressions

### Summary
Added regression hardening and tests for exec completion markers, output artifact tail retention, and project-only session isolation.

### Changed
- Added `buildFallbackScriptBody(...)` in `/Users/joon/projects/tools/lisa/src/tmux.go` and route long-command fallback scripts through it.
- Added `tailLines(...)` in `/Users/joon/projects/tools/lisa/src/session_files.go` to make latest-line retention explicit and reusable.
- Added regression tests in `/Users/joon/projects/tools/lisa/src/regressions_test.go` covering the reviewed failure modes.

### Fixed
- [P1] Preserved exec completion marker emission for long exec commands by forcing `set +e` in fallback scripts when wrapped exec markers are present.
- [P2] Ensured persisted output artifacts keep newest pane lines (tail semantics) so end-of-run results/errors are retained.
- [P2] Verified project-only filtering uses unique project identity (`LISA_PROJECT_HASH`) and safe legacy fallback rather than basename-only matching.

### Files
- `/Users/joon/projects/tools/lisa/src/tmux.go`
- `/Users/joon/projects/tools/lisa/src/session_files.go`
- `/Users/joon/projects/tools/lisa/src/regressions_test.go`
- `/Users/joon/projects/tools/lisa/docs/changelog/260209.md`

### QA Notes
- `go test ./...`
