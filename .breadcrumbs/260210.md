# Breadcrumbs 2026-02-10

- **00:14:16**: Add multi-channel install/release pipeline
  Added GoReleaser config + CI/release workflows + README install matrix; updated module path for go install and added lisa version output for package-manager verification.
- **00:14:16**: Refresh agent context after release tooling changes
  Updated .agents/project-overview.md and .agents/conventions.md to document GoReleaser-based distribution and new root file structure.
- **00:54:11** (`src/status.go`): Fix status heuristics and cleanup reliability
  Narrowed prompt-wait detection to recent output, fixed zero-CPU process detection, and expanded artifact cleanup to remove session files across project hashes.
- **00:54:11** (`src/regressions_test.go`): Add regression coverage for fixed issues
  Added tests for prompt marker false-positives, zero-CPU process matching, cross-project artifact cleanup, and doctor JSON build metadata payload.
- **00:54:11** (`.agents/conventions.md`): Postflight context sync check
  Reviewed context files after fixes; no AGENTS/.agents updates required because changes were targeted bug fixes without new architecture or conventions.
- **01:57:48** (`src/commands_session.go`): Fix kill ordering
  session kill/kill-all now terminate tmux sessions before artifact cleanup so cleanup errors cannot leave sessions running
- **01:57:49** (`src/commands_agent.go`): Harden doctor flags
  doctor now rejects unknown flags and matches CLI flag parsing behavior
- **01:57:50** (`src/regressions_test.go`): Add regression coverage
  added tests for doctor unknown flags and kill/kill-all ordering under cleanup failures
- **02:21:40** (`src/status.go`): Harden exec completion marker detection
  parseExecCompletion now only trusts markers at pane tail and ignores stale historical markers with substantive trailing output.
- **02:21:40** (`src/commands_session.go`): Tighten CLI parsing and test seams
  session spawn now uses injectable tmux function vars for tests; monitor --stop-on-waiting now validates strict boolean values.
- **02:21:40** (`src/regressions_test.go`): Add regression coverage for found issues
  Added tests for Run(version), parseExecCompletion stale marker behavior, session spawn parsing/json path, and invalid stop-on-waiting values.
- **02:21:45**: Postflight context sync
  Reviewed .agents context after fixes; no AGENTS/.agents updates required because changes align with existing documented patterns (function-variable mocking and manual flag parsing).
- **03:51:59**: Fix review findings
  Made session status/monitor CSV-safe, cleaned artifacts on spawn send failure, switched session commands to mockable tmux function vars, added regression tests and docs updates.
- **04:06:06**: Address post-commit review findings
  Tightened exec completion prompt-tail checks to avoid false positives on trailing '>' output, made --stop-on-waiting strict true|false parsing, and added regressions for both behaviors.
- **04:35:19**: Fix status prompt heuristic and missing-session cleanup
  Prevent false waiting_input on tag-like Claude tails, preserve active status for busy agents, and run artifact cleanup even when tmux session is missing; added regression tests.
- **04:35:20**: Refresh JSON output guidance in context docs
  Updated .agents/conventions.md and .agents/project-overview.md to document exact commands that support --json vs text-only helpers.
- **04:46:14**: Fix review findings: exec wrapper, shell detection, docs wording
  Made exec wrapper resilient to errexit shells, expanded shell detection (pwsh/tcsh/etc + *sh), added regression tests, and corrected architecture wording from deterministic to unique session names.
- **04:46:18**: Postflight context sync check
  Reviewed .agents context for staleness after fixes; no AGENTS/.agents updates required because behavior changes are covered by code/tests and existing context remains accurate.
